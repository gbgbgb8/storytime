<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Make JSON for Text Adventure Game</title>
</head>
<body>
  <h1>Create JSON for Text Adventure Game</h1>

  <form id="json-form">
    <div id="pages">
      <!-- Page 1 -->
      <div class="page" id="page-1">
        <h2>Page 1</h2>
        <label>Narrative Text: <input type="text" name="text-1"></label><br>
        <label>Setting: <input type="text" name="setting-1"></label><br>
        <label>Time: <input type="text" name="time-1"></label><br>
        <label>Option A Text: <input type="text" name="optionA-1"></label><br>
        <label>Option A Next Page: <input type="text" name="optionA-next-1"></label><br>
        <label>Option B Text: <input type="text" name="optionB-1"></label><br>
        <label>Option B Next Page: <input type="text" name="optionB-next-1"></label><br>
      </div>
      <!-- More pages can be added here -->
    </div>
    <button type="button" id="add-page">Add Page</button><br>
    <button type="button" id="generate-json">Generate JSON</button>
  </form>

  <h2>Generated JSON:</h2>
  <pre id="json-output"></pre>

  <script>
    let pageCount = 1;

    document.getElementById('add-page').addEventListener('click', function() {
      pageCount++;
      const newPage = document.createElement('div');
      newPage.className = 'page';
      newPage.id = `page-${pageCount}`;
      newPage.innerHTML = `
        <h2>Page ${pageCount}</h2>
        <label>Narrative Text: <input type="text" name="text-${pageCount}"></label><br>
        <label>Setting: <input type="text" name="setting-${pageCount}"></label><br>
        <label>Time: <input type="text" name="time-${pageCount}"></label><br>
        <label>Option A Text: <input type="text" name="optionA-${pageCount}"></label><br>
        <label>Option A Next Page: <input type="text" name="optionA-next-${pageCount}"></label><br>
        <label>Option B Text: <input type="text" name="optionB-${pageCount}"></label><br>
        <label>Option B Next Page: <input type="text" name="optionB-next-${pageCount}"></label><br>
      `;
      document.getElementById('pages').appendChild(newPage);
    });

    document.getElementById('generate-json').addEventListener('click', function() {
      const jsonData = {
        pages: {}
      };

      for (let i = 1; i <= pageCount; i++) {
        const form = document.forms['json-form'];
        jsonData.pages[i] = {
          text: form[`text-${i}`].value,
          metadata: {
            Setting: form[`setting-${i}`].value,
            Time: form[`time-${i}`].value
          },
          options: [
            {
              text: form[`optionA-${i}`].value,
              nextPage: form[`optionA-next-${i}`].value
            },
            {
              text: form[`optionB-${i}`].value,
              nextPage: form[`optionB-next-${i}`].value
            }
          ]
        };
      }

      document.getElementById('json-output').textContent = JSON.stringify(jsonData, null, 2);
    });
  </script>
</body>
</html>
